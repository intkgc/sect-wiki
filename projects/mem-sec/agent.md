---
title: Агент верхнего уровня
---

Hand-made text. 100% human. AI FREE 


## Архитектура

Агент верхнего уровня - это агент управляющий диалогом с пользователем. Он состоит из следующих сущностей:
- LLM
- Кратковременная память

Кратковременная память в свою очередь состоит из:
- Сообщений пользователя и агента
- Скрытого контекста (загруженные из долговременной памяти воспоминания)
- MemSummary (краткая сводка по всему текущему контексту)


## Workflow

Вот как выглядит пайплайн работы агента:
- Пользователь пишет сообщение
- Агент проверяет, говорит ли пользователь о чем-то, чего нет в MemSummary
- Если информации в MemSummary нет, то идет запрос в долговременную память
- Если из долговременной памяти была загруженна информация, то она сверяется с данными из сообщений пользователя, и в случае необходимости обновляется
- После информация из сообщения пользователя и данных из долговременной памяти (если она была загруженна) проходит процесс summary и загружается в MemSummary
- Информация из долговременной памяти (если она была загруженна) добавляется в скрытый контекст
- Если информация из долговременной памяти была обновлена новой информацией от пользователя, то идет запрос в долговременную память на ее обновление
- Если пользователь предоставил новую важную информацию, то идет запрос в долговременную память на ее сохранение
- На основе истории сообщений агента и пользователя, а так же на основе скрытого контекста LLM генерирует ответ



## ROAD MAP

- Реализовать диалог с llm, для обращения к бд и мем summary реализовать заглушку
- Реализовать http запросы к агенту
- Реализовать MemSummary



